# debug 文档模板

## debug-xxx.md 诊断文档

```markdown
---
title: 问题诊断-简述
type: debug
category: 与 plan.md 相同
status: 未确认
severity: 高/中/低
created: YYYY-MM-DD
plan: "[[plan]]"
tags:
  - spec
  - debug
---

# 问题诊断

## 1. 问题概述

### 1.1 问题现象
[描述用户看到的问题表现]

### 1.2 预期行为
[描述正确的行为应该是什么]

### 1.3 严重程度
- **级别**：高/中/低
- **影响范围**：[受影响的功能/用户]

---

## 2. 复现步骤

1. [步骤 1]
2. [步骤 2]
3. **结果**：[问题现象]

---

## 3. 根因分析

### 3.1 问题定位
- **问题代码位置**：`src/xxx/xxx.py:行号`
- **问题类型**：设计遗漏 / 实现偏差 / 环境问题 / 集成问题

### 3.2 根因说明
[详细说明为什么会发生这个问题]

### 3.3 与 plan.md 的关系

> [!note] 设计关联
> 此问题与 [[plan]] 的关系：
> - plan.md 章节 X.X 中未考虑 [某种情况]

---

## 4. 修复方案

### 4.1 方案描述
[描述如何修复这个问题]

### 4.2 修改范围
- [ ] `src/xxx/xxx.py` - [修改说明]

### 4.3 风险评估
- **是否影响其他功能**：是/否

---

## 5. 文档关联

- 设计文档: [[plan|设计方案]]
- 实现总结: [[summary|实现总结]]
```

---

## debug-xxx-fix.md 修复总结

```markdown
---
title: 修复总结-简述
type: debug-fix
category: 与 plan.md 相同
status: 未确认
created: YYYY-MM-DD
plan: "[[plan]]"
debug: "[[debug-001]]"
tags:
  - spec
  - debug-fix
---

# 修复总结

## 1. 修复概述

- **关联诊断**：[[debug-001|问题诊断]]
- **修复日期**：YYYY-MM-DD

---

## 2. 修复内容

### 2.1 修改的文件

| 文件 | 修改类型 | 说明 |
|------|----------|------|
| `src/xxx.py` | 修改 | [修改说明] |

### 2.2 关键修改

```python
# 修改前
[原代码]

# 修改后
[新代码]
```

---

## 3. 验证结果

- [x] 原问题已无法复现
- [x] spec-tester 重新验证通过

---

## 4. 文档关联

- 设计文档: [[plan|设计方案]]
- 问题诊断: [[debug-001|问题诊断]]
```
